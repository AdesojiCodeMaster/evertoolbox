<!doctype html><html lang='en'><head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="EverToolbox — fast, free, and elegant web utilities for creators.">
<!-- GA4 placeholder: G-XXXXXXXXXX -->
<!-- Search Console verification placeholder --><title>File Converter — EverToolbox</title><link rel='stylesheet' href='style.css'></head><body><header id="site-header" class="site-header" role="banner">
  <div class="container header-inner">
    <a class="brand" href="index.html" aria-label="EverToolbox home">
      <div class="logo">ET</div>
      <div class="brand-text"><span class="brand-name">EverToolbox</span><small class="muted">Smart web utilities</small></div>
    </a>
    <nav class="main-nav" role="navigation" aria-label="Main navigation">
      <ul class="nav-list">
        <li><a href="index.html">Home</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="tools.html">Tools</a></li>
        <li><a href="blog.html">Blog</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </nav>
    <div class="header-actions">
      <button id="theme-toggle" class="toggle" aria-label="Toggle theme">🌙</button>
      <button id="mobile-menu-btn" class="mobile-menu-btn" aria-label="Open menu" aria-expanded="false">☰</button>
    </div>
  </div>
</header>
<nav id="mobile-menu" class="mobile-menu" aria-hidden="true">
  <ul>
    <li><a href="index.html">Home</a></li>
    <li><a href="about.html">About</a></li>
    <li><a href="tools.html">Tools</a></li>
    <li><a href="blog.html">Blog</a></li>
    <li><a href="contact.html">Contact</a></li>
  </ul>
</nav>
  <main class='container'>
    <article class='card'>
      <h1>File Converter & Compressor</h1>
<!-- ================= FILE CONVERTER TOOL START ================= -->
<section class="tool-section">
  <form id="fileConverterForm" class="tool-form">
    <label>Select file to convert:</label>
    <input type="file" id="fileInput" name="file" required>

    <label>Choose output format:</label>
    <select id="targetExt" name="targetExt">
      <option value="pdf">PDF</option>
      <option value="docx">DOCX</option>
      <option value="txt">TXT</option>
      <option value="html">HTML</option>
      <option value="odt">ODT</option>
      <option value="rtf">RTF</option>
    </select>

    <button type="submit" class="btn">Convert</button>
  </form>

  <div id="status" class="status"></div>

  <div id="previewContainer" class="preview-container" style="display:none;">
    <h3>Preview</h3>
    <div id="previewContent"></div>
    <button id="editBtn" class="btn">Edit / Finalize</button>
  </div>

  <!-- Editor Modal -->
  <div id="editorModal" class="modal" style="display:none;">
    <div class="modal-content">
      <h3>Edit & Download</h3>
      <label>Rename file:</label>
      <input type="text" id="renameInput" placeholder="newfilename.pdf">

      <label>Add watermark (optional):</label>
      <input type="text" id="watermarkInput" placeholder="Watermark text">

      <label>Compression level:</label>
      <input type="range" id="compressionInput" min="10" max="100" value="90">
      <span id="compressionValue">90%</span>

      <div class="modal-actions">
        <button id="downloadBtn" class="btn">Download</button>
        <button id="closeModal" class="btn-secondary">Cancel</button>
      </div>
    </div>
  </div>
  </section>
  </article>
  </main>
  <footer id="site-footer" class="site-footer" role="contentinfo">
  <div class="container footer-inner">
    <div class="footer-left">
      <strong>EverToolbox</strong><br><small class="muted">© 2025 EverToolbox. All rights reserved.</small>
    </div>
    <div class="footer-right">
      <a href="https://github.com/AdesojiCodeMaster" target="_blank" rel="noopener">GitHub</a>
      <a href="https://www.linkedin.com/in/adesoji-adewumi" target="_blank" rel="noopener">LinkedIn</a>
      <a href="https://twitter.com/codemas22665735" target="_blank" rel="noopener">Twitter</a>
    </div>
  </div>
</footer>
  <script src='script.js'> </script>

  <script>
document.addEventListener("DOMContentLoaded", () => {
  const form = document.getElementById("fileConverterForm");
  const status = document.getElementById("status");
  const previewContainer = document.getElementById("previewContainer");
  const previewContent = document.getElementById("previewContent");
  const editBtn = document.getElementById("editBtn");
  const editorModal = document.getElementById("editorModal");
  const closeModal = document.getElementById("closeModal");
  const renameInput = document.getElementById("renameInput");
  const watermarkInput = document.getElementById("watermarkInput");
  const compressionInput = document.getElementById("compressionInput");
  const compressionValue = document.getElementById("compressionValue");
  const downloadBtn = document.getElementById("downloadBtn");

  compressionInput.addEventListener("input", () => {
    compressionValue.textContent = compressionInput.value + "%";
  });

  let convertedBlob = null;
  let convertedType = "";

  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    const file = document.getElementById("fileInput").files[0];
    const targetExt = document.getElementById("targetExt").value;
    if (!file) return alert("Please select a file.");

    status.textContent = "Converting...";
    previewContainer.style.display = "none";

    const formData = new FormData();
    formData.append("file", file);
    formData.append("targetExt", targetExt);

    try {
      const response = await fetch(`${API_BASE_URL}/api/convert-doc`, {
        method: "POST",
        body: formData,
      });

      if (!response.ok) throw new Error("Error processing file");

      convertedBlob = await response.blob();
      convertedType = convertedBlob.type || "application/octet-stream";
      status.textContent = "Conversion successful ✅";

      previewContainer.style.display = "block";
      previewContent.innerHTML = "";

      const ext = targetExt.toLowerCase();
      const url = URL.createObjectURL(convertedBlob);

      if (ext === "pdf") {
        previewContent.innerHTML = `<iframe src="${url}" width="100%" height="500px"></iframe>`;
      } else if (ext === "txt" || convertedType.startsWith("text/")) {
        const text = await convertedBlob.text();
        previewContent.innerHTML = `<pre>${text.substring(0, 2000)}</pre>`;
      } else if (["png", "jpg", "jpeg", "webp"].includes(ext)) {
        previewContent.innerHTML = `<img src="${url}" alt="Preview" style="max-width:100%; border-radius:8px;">`;
      } else {
        previewContent.innerHTML = `<p>Preview not supported for this format. You can download directly.</p>`;
      }
    } catch (err) {
      console.error(err);
      status.textContent = "❌ Error: " + err.message;
    }
  });

  editBtn.addEventListener("click", () => {
    editorModal.style.display = "flex";
  });

  closeModal.addEventListener("click", () => {
    editorModal.style.display = "none";
  });

  downloadBtn.addEventListener("click", () => {
    if (!convertedBlob) return alert("No converted file available.");

    const filename = renameInput.value.trim() || "converted-file";
    const extension = document.getElementById("targetExt").value;
    const finalName = filename.endsWith("." + extension)
      ? filename
      : filename + "." + extension;

    const link = document.createElement("a");
    link.href = URL.createObjectURL(convertedBlob);
    link.download = finalName;
    link.click();

    editorModal.style.display = "none";
  });
});
  </script>
  
</body>
</html>
